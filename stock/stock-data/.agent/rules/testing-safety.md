# 测试与安全 (股票数据)

- **基本流程**: 修改代码后必须运行 `pytest`。确保 `ruff` 检查通过。
- **隔离测试**: 测试数据应写入 `data/test/`，不要污染生产数据目录。
- **凭据安全**: 严禁在代码中硬编码 IBKR 账号或端口。使用 `config/*.toml` 或环境变量。
- **IBKR 限速**: 股票行情请求也需遵循 IBKR 的频率限制 (Pacing)。在大批量请求前，确保有适当的 `sleep` 或频率控制逻辑。
- **数据验证**: 验证采集到的价格是否为正数，成交量是否合理。
